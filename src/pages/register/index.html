<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../../assets/styles/register.css" />
  <link rel="stylesheet" href="../../assets/styles/home.css" />
  <link rel="stylesheet" href="../../assets/styles/footer.css" />
  <script src="../../lib/jquery/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" href="../../lib/bootstrap4.6.1/css/bootstrap.min.css" />
  <script src="../../lib/bootstrap4.6.1/js/bootstrap.bundle.min.js"></script>
  <script src="../../lib/bootstrap4.6.1/js/bootstrap.js"></script>
  <title>OnlineMoneyWorld</title>
  <link rel="shortcut icon" href="../../assets/images/logo_04.png">
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-222595522-1"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js" async></script>

  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-222595522-1');
  </script>
  <script src="https://www.recaptcha.net/recaptcha/api.js?onload=onloadCallback&render=explicit&hl=en" async
    defer></script>
</head>

<body>
  @-@include('./header.html',
  {
  back_url:'../../index.html',
  logo:'../../assets/images/logo_text.png' ,
  contact:'../contact/index.html', iPhone:'../../assets/images/iPhone.png',
  chrome:'../../assets/images/chrome.png',
  welcome:'../../assets/images/welcome-one-img-1.png',
  login:'../login/index.html' ,
  marketplace_url:"../service/index.html",
  technology_url:"../service/index.html#technonogy",
  mony_url:"../service/index.html#makemoney",
  about_url:"../about/index.html",
  blog_url:"../resources/blog/index.html",
  esomar_url:"../resources/esomar/index.html",
  careers_url:'../resources/careers/index.html'
  })
  <div class="register_container">
    <div class="
          container
          d-flex
          flex-column
          justify-content-center
          align-items-center
          mb-5
        ">
      <div class="
            form_box
            d-flex
            flex-column
            justify-content-center
            align-items-center
            mt-5
            col-md-6
          ">
        <p class="text-light h4 pt-2">register</p>
        <input type="text" class="col-md-10 border-0 m-3 p-1 rounded-lg" placeholder="Username" id='loginName' />
        <div class="col-md-10 d-flex p-0">
          <input type="text" class="col-md-6 border-0 rounded-lg p-1 m-0" placeholder="Email" id='email' />
          <button class="btn btn-warning col-md-6 ml-1" onclick="getValidateCode()">
            get vertification code
          </button>
        </div>
        <input type="email" class="col-md-10 border-0 m-3 p-1 rounded-lg" placeholder="Email Vertification Code"
          id='remark' />
        <input type="password" class="col-md-10 border-0 p-1 rounded-lg" placeholder="Password" id='password' />
        <div class="col-md-10 d-flex p-0 m-3">
        </div>
        <div class="col-md-10 d-flex p-0 align-items-center">
          <input type="radio" class="col-md-1" value="0" id='male' onclick="checkradio('0')" />
          <label for="" class="col-md-5 m-0 text-light">male</label>
          <input type="radio" class="col-md-1" value="1" id='female' onclick="checkradio('1')" />
          <label for="" class="col-md-5 m-0 text-light">female</label>
        </div>
        <input type="text" class="col-md-10 border-0 m-3 p-1 rounded-lg" placeholder="birthday"
          id='surveyBirthdayYear' />
        <p class="col-md-10 text-light">Vertification:</p>
        <!-- 人机验证 -->
        <div id="robot"></div>
        <div class="col-md-10 d-flex p-0 align-items-center flex-column pt-3">
          <div class="d-flex align-items-center col-md-12">
            <input type="checkbox" onclick="checkHandler1(1)" />
            <p class="m-0 pl-2 text-light">
              I have read and accepted <a href="../../pages/terms/index.html">Terms</a> And Conditions *
            </p>
          </div>
          <div class="d-flex align-items-center col-md-12">
            <input type="checkbox" onclick="checkHandler2()" />
            <p class="m-0 pl-2 text-light">
              I have read and accepted <a href="../../pages/privacy/index.html">Privacy Policy</a> *
            </p>
          </div>
          <div class="d-flex align-items-center col-md-12">
            <input type="checkbox" onclick="checkHandler3()" />
            <p class="m-0 pl-2 text-light">
              I want to receive marketing communication
            </p>
          </div>
        </div>
        <input type="button" onclick="register()" value="register" id="registerbtn"
          class="mb-5 mt-5 btn btn-warning col-md-5">
      </div>
    </div>
  </div>
  <div class="popup-box" id="show1">
    <div class="content shadow">
      <p class="text-center p-3 content-title">tips</p>
      <div class="content-tip text-center p-4" id="tip">
      </div>
      <button type="button" class="btn btn-info" style="width: 100%" id="close">确定</button>
    </div>
  </div>
  <!--底部组件引入-->
  @-@include('./footer.html',{
  contactUrl:'../../pages/contact/index.html',
  termsUrl:'../../pages/terms/index.html',
  privacyUrl:'../../pages/privacy/index.html',
  esomarUrl:"../../pages/resources/esomar/index.html",
  blogUrl:"../../pages/resources/blog/index.html",
  careersUrl:"../../pages/resources/careers/index.html"
  })
  <script>
    $('#services').on('show.bs.collapse', function () {
      $('#affiliates').collapse('hide')
      $('#about').collapse('hide')
      $('#resources').collapse('hide')
    })
    $('#affiliates').on('show.bs.collapse', function () {
      $('#services').collapse('hide')
      $('#about').collapse('hide')
      $('#resources').collapse('hide')
    })
    $('#about').on('show.bs.collapse', function () {
      $('#services').collapse('hide')
      $('#affiliates').collapse('hide')
      $('#resources').collapse('hide')
    })
    $('#resources').on('show.bs.collapse', function () {
      $('#services').collapse('hide')
      $('#affiliates').collapse('hide')
      $('#about').collapse('hide')
    })
  </script>
</body>
<script type="text/javascript">
  let _sex = ''
  let check1 = false
  let check2 = false
  let check3 = false
  function getValidateCode() {
    let email = document.getElementById('email').value
    if (!email) {
      let show1 = document.getElementById('show1')
      show1.style.display = 'block'
      let tip = document.getElementById('tip')
      tip.innerHTML = 'please input email'
    } else if (IsEmail(email)) {
      axios({
        method: "GET", //提交方法
        url: "/panel/online_money/pages/sendEmail/102?email=" + email,
      })
        .then((res) => {
          try {
            let show1 = document.getElementById('show1')
            show1.style.display = 'block'
            let tip = document.getElementById('tip')
            tip.innerHTML = res.data.msg
          } catch (err) {
            console.log(err)
          }
        })
        .catch(err => {
        });
    } else {
      let show1 = document.getElementById('show1')
      show1.style.display = 'block'
      let tip = document.getElementById('tip')
      tip.innerHTML = 'please input correct email account'
    }
  }
  function register() {
    let loginName = document.getElementById('loginName').value
    let email = document.getElementById('email').value
    let password = document.getElementById('password').value
    let surveyBirthdayYear = document.getElementById('surveyBirthdayYear').value
    let remark = document.getElementById('remark').value
    if (!loginName || !email || !password || !surveyBirthdayYear || !remark) {
      let show1 = document.getElementById('show1')
      let tip = document.getElementById('tip')
      tip.innerHTML = 'Please complete the registration information '
      show1.style.display = 'block'
      return
    }
    var responseToken = grecaptcha.getResponse(widgetId);
    if (responseToken.length == 0) {
      let show1 = document.getElementById('show1')
      let tip = document.getElementById('tip')
      tip.innerHTML = 'Please verify if it is a human machine'
      show1.style.display = 'block'
      return
    }
    if (!check1 || !check2 || !check3) {
      let show1 = document.getElementById('show1')
      let tip = document.getElementById('tip')
      tip.innerHTML = 'please read protocol'
      show1.style.display = 'block'
      return
    }
    axios({
      method: "POST", //提交方法
      url: "/panel/online_money/pages/register/102", //提交地址
      data: {
        loginName: loginName,
        email: email,
        password: password,
        sex: _sex,
        surveyBirthdayYear: surveyBirthdayYear,
        remark: remark
      },
    })
      .then((res) => {
        try {
          let show1 = document.getElementById('show1')
          let tip = document.getElementById('tip')
          tip.innerHTML = res.data.msg
          show1.style.display = 'block'
        } catch (err) {
          let show1 = document.getElementById('show1')
          let tip = document.getElementById('tip')
          tip.innerHTML =err
          show1.style.display = 'block'
        }
      })
      .catch();
  }
  function IsEmail(str) {
    var reg = /^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;
    return reg.test(str);
  }
  function checkradio(sex) {
    _sex = sex
  }

  var callback = function (args) {
    // console.log(args)
  };
  var expiredCallback = function (args) {
    // console.log(args)
  };
  var errorCallback = function (args) {
    console.log(args)
  };

  let widgetId;
  var onloadCallback = function () {
    // 得到组件id
    widgetId = grecaptcha.render('robot', {
      'sitekey': '6Lfjdd8UAAAAAKzWxI0k59BW5Tcf1C76XPKir1sr',
      'theme': 'light',
      'size': 'normal',
      'callback': () => { },
      'expired-callback': () => { },
      'error-callback': () => { }
    });
  };
  document.getElementById('close').addEventListener('click', function () {
    let show1 = document.getElementById('show1')
    show1.style.display = 'none'
  })

  function checkHandler1() {
    check1 = !check1
  }
  function checkHandler2() {
    check2 = !check2
  }
  function checkHandler3() {
    check3 = !check3
  }
</script>

</html>